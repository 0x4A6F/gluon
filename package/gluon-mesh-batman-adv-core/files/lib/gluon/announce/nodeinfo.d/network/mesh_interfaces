local interfaces = {}

local popen = io.popen('exec batctl if')
for ifname in popen:read('*a'):gmatch('([^%s]+): active') do
  pcall(
    function()
      table.insert(interfaces, util.readline(io.open('/sys/class/net/' .. ifname .. '/address')))
    end
  )
end
popen:close()

return interfaces
