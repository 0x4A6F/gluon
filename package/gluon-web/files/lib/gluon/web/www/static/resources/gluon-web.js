!function(){function e(e){return/^-?\d+$/.test(e)?+e:NaN}function t(e){return/^-?\d*\.?\d+?$/.test(e)?+e:NaN}function n(e){var t;return e.match(/^([^\(]+)\(([^,]+),([^\)]+)\)$/)&&void 0!==(t=s[RegExp.$1])?function(){return t(RegExp.$2,RegExp.$3)}:e.match(/^([^\(]+)\(([^,\)]+)\)$/)&&void 0!==(t=s[RegExp.$1])?function(){return t(RegExp.$2)}:s[e]}function r(e,t){var n,r=document.getElementById(e);return r&&(n="checkbox"==r.type?r.checked:r.value?r.value:""),n==t}function a(e){for(var t=0;t<e.length;t++){var n=!0;for(var a in e[t])n=n&&r(a,e[t][a]);if(n)return!0}return!1}function i(){var e=!1;for(var t in c){var n=c[t],r=document.getElementById(t),o=document.getElementById(n.parent);if(r&&r.parentNode&&!a(n.deps))r.parentNode.removeChild(r),e=!0;else if(o&&(!r||!r.parentNode)&&a(n.deps)){var u=void 0;for(u=o.firstChild;u&&!(u.getAttribute&&parseInt(u.getAttribute("data-index"),10)>n.index);u=u.nextSibling);u?o.insertBefore(n.node,u):o.appendChild(n.node),e=!0}o&&o.parentNode&&o.getAttribute("data-optionals")&&(o.parentNode.style.display=o.options.length<=1?"none":"")}e&&i()}function o(e,t,n,r){return e.addEventListener?e.addEventListener(t,n,!!r):e.attachEvent("on"+t,function(){var e=window.event;return!e.target&&e.srcElement&&(e.target=e.srcElement),!!n(e)}),e}function u(e,t,n){function r(r,s,p){for(var f=[];e.firstChild;){var v=e.firstChild,h=+v.index;h!=p&&("input"==v.nodeName.toLowerCase()?f.push(v.value||""):"select"==v.nodeName.toLowerCase()&&(f[f.length-1]=v.options[v.selectedIndex].value)),e.removeChild(v)}s>=0?(r=s+1,f.splice(s,0,"")):n||0!=f.length||f.push("");for(var h=1;h<=f.length;h++){var g=document.createElement("input");if(g.id=l+"."+h,g.name=l,g.value=f[h-1],g.type="text",g.index=h,g.className="gluon-input-text",c&&(g.placeholder=c),e.appendChild(g),t&&d(g,!1,t),o(g,"keydown",i),o(g,"keypress",a),h==r)g.focus();else if(-h==r){g.focus();var m=g.value;g.value=" ",g.value=m}if(n||f.length>1){var x=document.createElement("span");x.className="gluon-remove",e.appendChild(x),o(x,"click",u(!1)),e.appendChild(document.createElement("br"))}}var x=document.createElement("span");x.className="gluon-add",e.appendChild(x),o(x,"click",u(!0))}function a(e){e=e?e:window.event;var t=e.target?e.target:e.srcElement;switch(3==t.nodeType&&(t=t.parentNode),e.keyCode){case 8:case 46:return 0!=t.value.length||(e.preventDefault&&e.preventDefault(),!1);case 13:case 38:case 40:return e.preventDefault&&e.preventDefault(),!1}return!0}function i(e){e=e?e:window.event;var t,n,a=e.target?e.target:e.srcElement,i=0;if(a){for(3==a.nodeType&&(a=a.parentNode),i=a.index,t=a.previousSibling;t&&t.name!=l;)t=t.previousSibling;for(n=a.nextSibling;n&&n.name!=l;)n=n.nextSibling}switch(e.keyCode){case 8:case 46:var o="select"==a.nodeName.toLowerCase()||0==a.value.length;if(o){e.preventDefault&&e.preventDefault();var u=a.index;return 8==e.keyCode&&(u=-u+1),r(u,-1,i),!1}break;case 13:r(-1,i,-1);break;case 38:t&&t.focus();break;case 40:n&&n.focus()}return!0}function u(e){return function(t){t=t?t:window.event;for(var n=t.target?t.target:t.srcElement,r=n.previousSibling;r&&r.name!=l;)r=r.previousSibling;return e?i({target:r,keyCode:13}):(r.value="",i({target:r,keyCode:8})),!1}}var l=e.getAttribute("data-prefix"),c=e.getAttribute("data-placeholder");r(NaN,-1,-1)}function d(e,t,r){var a=n(r);if(a){var i=function(){if(e.form){e.className=e.className.replace(/ gluon-input-invalid/g,"");var n=e.options&&e.options.selectedIndex>-1?e.options[e.options.selectedIndex].value:e.value;0==n.length&&t||a.apply(n)||(e.className+=" gluon-input-invalid")}};o(e,"blur",i),o(e,"keyup",i),"SELECT"==e.nodeName&&(o(e,"change",i),o(e,"click",i)),i()}}function l(e,t,n){var r=c[e.id];r||(r={node:e,parent:e.parentNode.id,deps:[],index:n},c[e.id]=r),r.deps.push(t)}var c={},s={integer:function(){return!isNaN(e(this))},uinteger:function(){return e(this)>=0},"float":function(){return!isNaN(t(this))},ufloat:function(){return t(this)>=0},ipaddr:function(){return s.ip4addr.apply(this)||s.ip6addr.apply(this)},ip4addr:function(){return!!this.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/)&&(RegExp.$1>=0&&RegExp.$1<=255&&RegExp.$2>=0&&RegExp.$2<=255&&RegExp.$3>=0&&RegExp.$3<=255&&RegExp.$4>=0&&RegExp.$4<=255)},ip6addr:function(){return this.indexOf("::")<0?null!=this.match(/^(?:[a-f0-9]{1,4}:){7}[a-f0-9]{1,4}$/i):!(this.indexOf(":::")>=0||this.match(/::.+::/)||this.match(/^:[^:]/)||this.match(/[^:]:$/))&&(!!this.match(/^(?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}$/i)||(!!this.match(/^(?:[a-f0-9]{1,4}:){7}:$/i)||!!this.match(/^:(?::[a-f0-9]{1,4}){7}$/i)))},wpakey:function(){var e=this;return 64==e.length?null!=e.match(/^[a-f0-9]{64}$/i):e.length>=8&&e.length<=63},range:function(e,n){var r=t(this);return r>=+e&&r<=+n},min:function(e){return t(this)>=+e},max:function(e){return t(this)<=+e},irange:function(t,n){var r=e(this);return r>=+t&&r<=+n},imin:function(t){return e(this)>=+t},imax:function(t){return e(this)<=+t},minlength:function(e){return(""+this).length>=+e},maxlength:function(e){return(""+this).length<=+e}};!function(){var e;e=document.querySelectorAll("[data-depends]");for(var t,n=0;void 0!==(t=e[n]);n++){var r=parseInt(t.getAttribute("data-index"),10),a=JSON.parse(t.getAttribute("data-depends"));if(!isNaN(r)&&a.length>0)for(var c=0;c<a.length;c++)l(t,a[c],r)}e=document.querySelectorAll("[data-update]");for(var t,n=0;void 0!==(t=e[n]);n++)for(var s,p=t.getAttribute("data-update").split(" "),f=0;void 0!==(s=p[f]);f++)o(t,s,i);e=document.querySelectorAll("[data-type]");for(var t,n=0;void 0!==(t=e[n]);n++)d(t,"true"===t.getAttribute("data-optional"),t.getAttribute("data-type"));e=document.querySelectorAll("[data-dynlist]");for(var t,n=0;void 0!==(t=e[n]);n++){var v=JSON.parse(t.getAttribute("data-dynlist"));u(t,v.type,v.optional)}i()}()}();